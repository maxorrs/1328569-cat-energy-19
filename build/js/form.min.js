const menu=document.querySelector(".site-list"),menuButton=document.querySelector(".menu-toggle");menuButton.classList.contains("menu-toggle--disabled")&&(menuButton.classList.remove("menu-toggle--disabled"),menu.classList.remove("site-list--show"),menuButton.classList.add("menu-toggle--close"),menuButton.onclick=function(){menuButton.classList.toggle("menu-toggle--open"),menu.classList.toggle("site-list--show-outside"),menuButton.classList.toggle("menu-toggle--close")});const form=document.querySelector(".form"),firstName=form.querySelector("[name=first-name]"),weight=form.querySelector("[name=weight]"),age=form.querySelector("[name=age]"),email=form.querySelector("[name=email]"),tel=form.querySelector("[name=tel]"),requiredFields=[firstName,weight,email,tel],onlyNumberFields=[weight,age];for(var i=0;i<onlyNumberFields.length;i++)onlyNumberFields[i].addEventListener("keyup",function(){this.value=this.value.replace(/[^\d]/g,"")});for(i=0;i<requiredFields.length;i++)requiredFields[i].addEventListener("blur",function(){this.value&&!this.value.includes("_")||this.classList.add("input__control--error")}),requiredFields[i].addEventListener("focus",function(){this.classList.contains("input__control--error")&&this.classList.remove("input__control--error")});function setCursorPosition(e,t){if(t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}}function mask(e){var t=this.placeholder,i=0,s=t.replace(/\D/g,""),r=this.value.replace(/\D/g,"");s.length>=r.length&&(r=s),t=t.replace(/[_\d]/g,function(e){return r.charAt(i++)||"_"}),this.value=t,(i=t.lastIndexOf(r.substr(-1)))<t.length&&t!=this.placeholder?i++:i=t.indexOf("_"),setCursorPosition(i,this)}form.addEventListener("submit",function(e){for(var t=!1,i=0;i<requiredFields.length;i++)requiredFields[i].value&&!requiredFields[i].value.includes("_")||(e.preventDefault(),requiredFields[i].classList.add("input__control--error"),t||(t=!0,requiredFields[i].focus()))}),tel.addEventListener("input",mask,!1),setCursorPosition(3,tel);